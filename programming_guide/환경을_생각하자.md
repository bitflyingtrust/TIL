# 환경을 생각하자

프로그래밍 이야기를 하면서 왠 환경 이야기를 하는지 뜬금 없다고 생각할수도 있습니다. 사람들이 생활을 하면서 주변 환경을 무시 할수가 없습니다. 프로그래밍도 마찬가지 입니다. 
주변 환경과 사람과의 관계 처럼 프로그래밍도 환경에 깊숙히 연관되어 있습니다. 경험 없는 프로그래머는 코드와 코딩에 집중하지만 경험많은 프로그래머는 프로그램이 동작하는 환경도 
같이 생각을 합니다.
오늘 [실용주의 프로그래머](http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&ejkGb=KOR&barcode=9788966261031)라는 책을 읽는 중에
우연에 맡기는 프로그래밍이라는 챕터를 보면서 아래의 문제를 만났습니다.

다음 코드는 자바로 작성된 일반적인 용도로 쓸 목적으로 만들어진 자바 로그 프로그램의 일부분이다. 이 함수는 로그 파일에 문자열을 기록한다. 이 함수는 단위 테스트를 통과 하지만
웹 개발자 한명이 실제로 사용할 때는 제대로 작동되지 않았다. 이 함수가 의존하고 있는 우연은 무엇일까?

```java
public static void debug(String s) throws IOException {
	Filewriter fw = new FileWriter("debug.log", true);
	fw.write(s);
	fw.flush();
	fw.close();
}
```

이 함수가 의존하고 있는 우연은 무엇일까? 라는 질문에 생각 해볼 점이 몇가지 있습니다.

코드를 보면 로직이 단순해서 크게 문제 없이 동작할것 처럼 보입니다. 예외 처리 코드도 있어서 잘 동작 할는 것처럼 보입니다. 하지만 프로그래머의 의도돼로 동작하지 않을수가 있습니다.
파일을 디스크에 쓰는 동작은 생각 보다 복잡한 프로세서를 거침니다. 주의 해야 할점은 코드가 OS 환경에 따라서 동작 방식이 다를수 있다는 것입니다. 디스크에 파일 쓰기를 요청할때
OS의 보안 레벨에서 권한을 취득하지 못하면 동작 안할수가 있습니다. 그리고 디스크의 용량이 꽉찬 상태에서 파일 쓰기는 동작 하지 않습니다. 

(작성중)


코드를 작성할때 이 코드가 동작하는 환경을 한번 살펴 보고 제한 사항이 무엇인지 정의 하는것도 중요합니다.